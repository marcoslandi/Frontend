<! DOCTYPE html>

<html>
    <head>
        <meta charset="UTF8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
            
        <!--Librerias Chart js-->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>

    <body class="bg-success">
        
        <div class="col-8 offset-2 my-5">
            <div class="card">
                <div class="card-body">
                    <h5> Indice de Vegetación</h5>
                    <hr>
                    <canvas id="myChart"></canvas>
                </div>
            </div>            
        </div>
        <!--Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2"></script>

        <script type="text/javascript">
            
            function graficador(campo){
                /*
                Esta es una función para generar el gráfico de serie de tiempo de indice de vegetación con ChartJS
                El programa grafica una serie de tiempo de índice de vegetación para el campo seleccionado.

                INPUTS:
                        -campo: es el nombre del campo que va se va a graficar
                            Con el nombre del campo el programa busca los datos correspondientes 
                            en la "Chart_database" administrada por Django
                */
                // Definir el contexto del grafico
                const ctx = document.getElementById('myChart');
                // Creando el gráfico
                new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'julio'],
                    datasets: [{
                        label: 'NDVI',
                        data: [10, 20, 30, 30, 20, 10],
                        fill: false,
                        cubicInterpolationMode: 'monotone',
                        tension: 0.4,
                        borderWidth: 1.5
                    }]
                },
                options: {
                    responsive: true,
                    interaction: {
                        intersect: false,
                    },
                scales: {
                    y: {
                        title: {
                            display: true,
                            text: 'NDVI'
                        },
                        beginAtZero: true,
                        suggestedMax: 50
                    },
                }
                }
            });
            } 
            
            //Lamar el grafico
            graficador("campo 1")
        </script>
    </body>
</html>